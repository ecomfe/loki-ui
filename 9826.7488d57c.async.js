"use strict";(self.webpackChunkloki_ui=self.webpackChunkloki_ui||[]).push([[9826],{89826:function(Pt,Ee,g){g.d(Ee,{Z:function(){return ae}});var Fe=g(28152),$=g.n(Fe),$e=g(77117),v=g.n($e),De=g(95530),I=g.n(De),z=g(28163),Re=g(84875),D=g.n(Re),o=g(50959),A=g(10422),ee=g(10866),Oe=function(){var t=null,s=null,i=null,u=function(){var n;s&&((n=s)===null||n===void 0||n.focus())},r=function(n){n.key==="Tab"&&(n.preventDefault(),u())},f=function a(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.key==="Tab"&&(n.preventDefault(),u()),!c&&window.removeEventListener("keydown",a)},d=function(){var n;(n=i)===null||n===void 0||n.removeEventListener("keydown",function(c){return r(c)})},p=function(){var n,c,x=Array.from((n=t)===null||n===void 0?void 0:n.querySelectorAll('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(function(y){var h=y instanceof HTMLAnchorElement?!0:!y.disabled;return!y.classList.contains("ps__thumb-x")&&!y.classList.contains("ps__thumb-y")&&h});x.length!==0&&(s=x[0],i=x[x.length-1],(c=i)===null||c===void 0||c.addEventListener("keydown",function(y){return r(y)}))},m=function(n){return t=n,p(),window.addEventListener("keydown",f),!0};return{initFocusTrap:m,removeFocusTrap:d}},Pe=function(){var t=(0,o.useState)(null),s=$()(t,2),i=s[0],u=s[1];(0,o.useEffect)(function(){typeof document!="undefined"&&u(document.body)},[]);var r=function(){if(!i)return 0;var c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)},f=function(c){!i||i.hasAttribute("data-initial-".concat(c))||(i.dataset["initial".concat(c)]=i.style[c])},d=function(c){i&&(i.style[c]=i.dataset["initial".concat(c)]||"",i.removeAttribute("data-initial-".concat(c)))},p=function(){d("overflow"),d("paddingRight")},m=function(){f("overflow"),i.style.overflow="hidden"},a=function(){if(i){var c=r();m(),f("paddingRight"),i.style.paddingRight="".concat(c,"px")}};return{scrollbarHide:a,scrollbarReset:p,getWidth:r}},L=(0,o.createContext)({isOpenModal:!1,setTransitionDuration:null,scrollable:!1}),Ie={wrapper:"transition-all duration-300 ease-in-out fixed top-0 left-0 bg-black w-full h-full"},ze={show:"transform-none",static:"!scale-[1.02]",staticProperties:"transition-scale duration-300 ease-in-out",wrapper:"fixed left-0 top-0 h-full w-full overflow-y-auto overflow-x-hidden outline-none"},He={scrollable:"overflow-y-auto",wrapper:"relative flex-auto"},Be={adaptive:"rounded-xl",full:"w-full rounded-[--border-radius-lg]",wrapper:"min-[576px] pointer-events-auto relative flex-col rounded-[--border-radius-lg] border-none bg-clip-padding outline-none text-[--color-recommend-bg] bg-[--color-bg-container]",scrollable:"max-h-full"},Ae={centered:"h-[calc(100vh-3.5rem)] flex items-center justify-center",fullscreen:"!h-full w-full !m-0",hidden:"translate-y-[-50px] opacity-0",scrollable:"h-[calc(100vh-3.5rem)] overflow-hidden",show:"translate-y-0 opacity-100",wrapper:"pointer-events-none transition-all duration-300 ease-in-out mt-7",wrapperPositionDefault:"relative mx-auto","bottom-left":"w-full absolute bottom-7 left-7","bottom-right":"w-full absolute bottom-7 right-7","top-left":"w-full absolute left-7","top-right":"w-full absolute right-7",s:"w-[306px]",m:"w-[416px]",sizeDefault:"w-[416px]",l:"w-[526px]",xl:"w-[636px]"},te={wrapper:"flex px-[--padding-xxl] pb-[--padding-xxl] pt-0 flex-shrink-0 flex-wrap items-center justify-end rounded-b-md border-neutral-100 border-opacity-100 dark:border-opacity-50",closeButton:"mx-auto mt-[20px] h-[32px] w-[32px] block border border-solid border-white rounded-full text-white text-16 flex items-center justify-center transition-opacity hover:opacity-60"},G={wrapper:"pt-[--padding-xxl] pr-[--padding-xxl] pl-[--padding-xxl]  pb-[--padding-md] flex flex-shrink-0 items-center justify-between rounded-t-md border-neutral-100 border-opacity-100 dark:border-opacity-50",title:"font-pingfang font-medium text-[16px] leading-[24px] tracking-normal",closeButton:"w-[24px] h-[24px] flex justify-center items-center box-content rounded-none border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"},l=g(11527),Le=["className","children","theme","pure","isPlayer","tag"],We=o.forwardRef(function(e,t){var s=e.className,i=e.children,u=e.theme,r=e.pure,f=e.isPlayer,d=e.tag,p=d===void 0?"div":d,m=I()(e,Le),a=v()(v()({},He),u),n=(0,o.useContext)(L),c=n.scrollable,x=D()(a.wrapper,!r&&!f?"px-[--padding-xxl] pb-[--padding-xxl] pt-[--padding-sm]":"",c&&a.scrollable,s);return(0,l.jsx)(p,v()(v()({className:x},m),{},{ref:t,children:i}))}),Ke=We,Ze=["className","children","theme","pure","isPlayer","tag"],Ue=o.forwardRef(function(e,t){var s=e.className,i=e.children,u=e.theme,r=e.pure,f=e.isPlayer,d=e.tag,p=d===void 0?"div":d,m=I()(e,Ze),a=v()(v()({},Be),u),n=(0,o.useContext)(L),c=n.scrollable,x=D()(a.wrapper,c&&a.scrollable,r?"bg-transparent":"shadow-lg",f?a.adaptive:a.full,f?"bg-[--seed-token-white] rounded-2xl":"shadow-lg",s);return(0,l.jsx)(p,v()(v()({className:x},m),{},{ref:t,children:i}))}),Ge=Ue,Je=function(t,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:150,u=(0,o.useState)(0),r=$()(u,2),f=r[0],d=r[1],p=(0,o.useRef)(null),m=(0,o.useRef)(null),a=(0,o.useRef)(!1),n=function(h){if(h!==null&&!a.current){a.current=!0;var j=window.getComputedStyle(h),C=j.transitionDuration,E=Number(C.replace("s",""))*1e3;d(E);return}if(s){var T=s==null?void 0:s.split(" ");if(s!=null&&s.includes("duration")){var w=T==null?void 0:T.find(function(k){return k.includes("duration")}),N=Number(w==null?void 0:w.split("-")[1].replace(/\D/g,""));d(N)}else s!=null&&s.includes("transition")&&d(i)}};(0,o.useEffect)(function(){a.current||n(t)},[t]);var c=function(h){p.current!==null&&clearTimeout(p.current),p.current=setTimeout(function(){h==null||h()},50)},x=function(h){a.current!==!1&&(m.current!==null&&clearTimeout(m.current),m.current=setTimeout(function(){h==null||h()},f))};return(0,o.useEffect)(function(){return function(){m.current!==null&&clearTimeout(m.current)}},[]),{transitionDuration:f,onTransitionShow:c,onTransitionHide:x,getTransitionTime:n}},Qe=["className","centered","position","children","size","width","isPlayer","theme"],Ve=function(t){var s=t.className,i=t.centered,u=t.position,r=t.children,f=t.size,d=t.width,p=t.isPlayer,m=t.theme,a=I()(t,Qe),n=v()(v()({},Ae),m),c=(0,o.useContext)(L),x=c.isOpenModal,y=c.setTransitionDuration,h=c.scrollable,j=(0,o.useState)(!1),C=$()(j,2),E=C[0],T=C[1],w=(0,o.useRef)(null),N=D()(n.wrapper,E?n.show:n.hidden,h&&n.scrollable,i&&n.centered,u?n[u]:n.wrapperPositionDefault,p?"":f&&n[f]?n[f]:n.sizeDefault,s),k=d?Number.isNaN(+d)?d:"".concat(d,"px"):"",S=k?{width:k}:{},B=Je(w.current),R=B.transitionDuration;return(0,o.useEffect)(function(){y(R)},[R]),(0,o.useEffect)(function(){var O;return x?O=setTimeout(function(){T(!0)},50):T(!1),function(){clearTimeout(O)}},[x]),(0,l.jsx)("div",v()(v()({className:N},a),{},{ref:w,style:S,children:r}))},Xe=Ve,Ye=["className","children","theme","tag"],qe=o.forwardRef(function(e,t){var s=e.className,i=e.children,u=e.theme,r=e.tag,f=r===void 0?"div":r,d=I()(e,Ye),p=v()(v()({},te),u),m=D()(p.wrapper,s);return(0,l.jsx)(f,v()(v()({className:m},d),{},{ref:t,children:i}))}),_e=qe,et=["className","children","theme","tag"],tt=o.forwardRef(function(e,t){var s=e.className,i=e.children,u=e.theme,r=e.tag,f=r===void 0?"div":r,d=I()(e,et),p=v()(v()({},G),u),m=D()(p.wrapper,s);return(0,l.jsx)(f,v()(v()({className:m},d),{},{ref:t,children:i}))}),nt=tt,at={},rt=function(t){var s=t.className,i=t.appendToBody,u=i===void 0?!1:i,r=t.show,f=t.animate,d=f===void 0?!0:f,p=t.theme,m=t.style,a=m===void 0?at:m,n=t.zIndex,c=v()(v()({},Ie),p),x=(0,o.useState)(r),y=$()(x,2),h=y[0],j=y[1],C=(0,o.useState)(!1),E=$()(C,2),T=E[0],w=E[1],N=(0,o.useRef)(0),k=(0,o.useRef)(null),S=(0,o.useRef)(null),B=D()(c.wrapper,h?"block":"hidden",T?"opacity-50":"opacity-0",s);(0,o.useEffect)(function(){if(k.current){var O=window.getComputedStyle(k.current),J=O.transitionDuration,K=Number(J.replace("s",""))*1e3;N.current=K}},[]),(0,o.useEffect)(function(){return r?(j(r),S.current=setTimeout(function(){w(r)},d?50:0)):(w(r),S.current=setTimeout(function(){j(r)},d?N.current:0)),function(){S.current&&clearInterval(S.current)}},[r]),a.zIndex===void 0&&(a.zIndex=n);var R=(0,l.jsx)("div",{id:"loki-mask",className:B,style:a,ref:k});return(0,l.jsx)(l.Fragment,{children:u?A.createPortal(R,document.body):R})},ot=rt,lt=["title","type","open","mask","scrollable","appendToBody","children","className","style","maskStyle","maskClassName","headerClassName","bodyClassName","footerClassName","theme","okText","cancelText","zIndex","okType","cancelType","onOk","onCancel","showCancel","closable","keyboard","leaveHiddenModal","size","centered","footer","onClickLink","pure","onOpen","width","link","linkText","isPlayer"],it={},st={primary:(0,l.jsx)(z.AigcSystemTipsFace,{className:"text-[--color-info-base]"}),success:(0,l.jsx)(z.AigcSystemRightFace,{className:"text-[--color-success-base]"}),warning:(0,l.jsx)(z.AigcSystemWarningFace,{className:"text-[--color-warning-base]"}),error:(0,l.jsx)(z.AigcSystemWrongFace,{className:"text-[--color-error-base]"})},ct=(0,o.forwardRef)(function(e,t){var s=e.title,i=s===void 0?"\u63D0\u793A":s,u=e.type,r=e.open,f=e.mask,d=f===void 0?!0:f,p=e.scrollable,m=p===void 0?!1:p,a=e.appendToBody,n=a===void 0?!1:a,c=e.children,x=e.className,y=e.style,h=y===void 0?it:y,j=e.maskStyle,C=e.maskClassName,E=C===void 0?"":C,T=e.headerClassName,w=T===void 0?"":T,N=e.bodyClassName,k=N===void 0?"":N,S=e.footerClassName,B=S===void 0?"":S,R=e.theme,O=e.okText,J=O===void 0?"\u786E\u8BA4":O,K=e.cancelText,mt=K===void 0?"\u53D6\u6D88":K,re=e.zIndex,oe=re===void 0?900:re,le=e.okType,ft=le===void 0?"primary":le,ie=e.cancelType,pt=ie===void 0?"default":ie,Q=e.onOk,V=e.onCancel,se=e.showCancel,ht=se===void 0?!0:se,ce=e.closable,ue=ce===void 0?!0:ce,de=e.keyboard,xt=de===void 0?!0:de,ve=e.leaveHiddenModal,me=ve===void 0?!0:ve,fe=e.size,yt=fe===void 0?"m":fe,pe=e.centered,gt=pe===void 0?!1:pe,he=e.footer,X=he===void 0?!1:he,Y=e.onClickLink,xe=e.pure,Z=xe===void 0?!1:xe,q=e.onOpen,bt=e.width,ye=e.link,ge=e.linkText,Tt=ge===void 0?"\u4E86\u89E3\u66F4\u591A":ge,be=e.isPlayer,U=be===void 0?!1:be,wt=I()(e,lt),Te=v()(v()({},ze),R),we=Pe(),kt=we.scrollbarHide,Ct=we.scrollbarReset,ke=Oe(),Nt=ke.initFocusTrap,St=ke.removeFocusTrap,Mt=(0,o.useState)(r),Ce=$()(Mt,2),F=Ce[0],Ne=Ce[1],jt=(0,o.useState)(0),Se=$()(jt,2),Et=Se[0],Ft=Se[1],H=(0,o.useRef)(null),$t=D()(Te.wrapper,x,F?Te.show:"hidden"),Me=function(){Ne(!0),q==null||q(),Nt(H==null?void 0:H.current)},P=function(b){Ne(function(Ot){return Ot&&(V==null||V(b)),!1}),St()},Dt=function(b){b.target!==H.current||!d||P(b)},_=(0,o.useCallback)(function(M){xt&&F&&M.key==="Escape"&&P()},[F]);(0,o.useEffect)(function(){r?Me():setTimeout(function(){P()},Et)},[r]),(0,o.useEffect)(function(){F?kt():Ct()},[F]),(0,o.useEffect)(function(){return window.addEventListener("keydown",_),function(){window.removeEventListener("keydown",_)}},[_]),h.zIndex===void 0&&Object.assign(h,{zIndex:oe}),(0,o.useImperativeHandle)(t,function(){return{open:Me,close:P,modalRef:H}});var Rt=u&&["primary","warning","success","error"].includes(u)?st[u]:null,je=(0,l.jsxs)(L.Provider,{value:{isOpenModal:r,setTransitionDuration:Ft,scrollable:m},children:[(me||r)&&(0,l.jsx)("div",v()(v()(v()(v()({id:"loki-modal",ref:H,className:$t,onClick:Dt},F&&{"aria-modal":"true"}),!F&&{"aria-hidden":"true"}),{},{style:h},wt),{},{children:(0,l.jsx)(Xe,{size:yt,centered:gt,width:bt,isPlayer:U,children:(0,l.jsxs)(Ge,{pure:Z,isPlayer:U,children:[!Z&&!U&&(0,l.jsxs)(nt,{className:w,children:[(0,l.jsxs)("div",{className:G.title,children:[u&&(0,l.jsx)("span",{className:"float-left mr-[5px] mt-[2px] text-[20px]",children:Rt}),i]}),ue&&(0,l.jsx)("button",{type:"button",className:G.closeButton,onClick:function(b){return P(b)},"aria-label":"close",children:(0,l.jsx)("span",{className:"text-[20px] text-[--color-text-tertiary] hover:text-[--color-text-quaternary]",children:(0,l.jsx)(z.AigcSystemClose,{})})})]}),(0,l.jsx)(Ke,{isPlayer:U,pure:Z,className:k,children:c}),Z?ue&&(0,l.jsx)("button",{type:"button",className:te.closeButton,onClick:function(b){return P(b)},"aria-label":"close",children:(0,l.jsx)(z.AigcSystemClose,{})}):X||X===null?X:(0,l.jsxs)(_e,{className:B,children:[ye&&(0,l.jsx)("a",{href:ye,target:"_blank",onClick:function(b){Y==null||Y(b)},className:"mr-auto text-[14px] text-[--color-primary-text] hover:text-[--color-primary-text-hover] active:text-[--color-primary-active]",rel:"noreferrer",children:Tt}),ht&&(0,l.jsx)("div",{children:(0,l.jsx)(ee.Z,{type:pt,onClick:function(b){return P(b)},children:mt})}),(0,l.jsx)("div",{className:"ml-[--margin-sm]",children:(0,l.jsx)(ee.Z,{type:ft,onClick:function(b){return Q==null?void 0:Q(b)},children:J})})]})]})})})),d&&(me||r)&&(0,l.jsx)(ot,{show:F,style:j,zIndex:oe-1,className:E,appendToBody:n})]});return(0,l.jsx)(l.Fragment,{children:n?A.createPortal(je,document.body):je})}),ut=ct,W=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=function(){if(typeof t.getContainer=="function")return t.getContainer();if(typeof t.getContainer=="string")return document.querySelector(t.getContainer);if(t.getContainer instanceof HTMLElement)return t.getContainer;if(t.getContainer===!1){var a=document.createElement("div");return document.currentScript&&document.currentScript.parentNode.insertBefore(a,document.currentScript),a}else{var n=document.createElement("div");return document.body.appendChild(n),n}},u=i();if(!u)throw new Error("Invalid container for modal");var r=function(){A.unmountComponentAtNode(u),u!==document.body&&u.parentNode&&u.parentNode.removeChild(u)},f=function(a){typeof t.onOk=="function"&&t.onOk(a),r()},d=function(a){typeof t.onCancel=="function"&&t.onCancel(a),r()},p=function(a){A.render((0,l.jsx)(ae,v()(v()({centered:!0},a),{},{open:!0,type:s,onOk:f,onClose:d,children:a.content})),u)};return p(t),{update:function(a){Object.assign(t,a(t)),p(t)},destroy:d}},dt={confirm:function(t){return W(t)},success:function(t){return W(t,"success")},error:function(t){return W(t,"error")},warning:function(t){return W(t,"warning")}},vt=dt,ne=ut;Object.assign(ne,vt);var ae=ne}}]);
